{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\E-Commerce\\\\frontend\\\\src\\\\pages\\\\ProductDetails.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductDetails() {\n  _s();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true); // Add a loading state\n  const [error, setError] = useState(null); // Add an error state\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const fetchProduct = async () => {\n      // Use async/await for cleaner code\n      setLoading(true); // Set loading to true before fetching\n      setError(null); // Reset any previous errors\n      try {\n        const res = await fetch(process.env.REACT_APP_API_URL + '/products/' + id);\n        if (!res.ok) {\n          // Check for HTTP errors (404, 500, etc.)\n          throw new Error(`HTTP error! status: ${res.status}`);\n        }\n        const data = await res.json();\n\n        // Check the structure of the data:\n        if (data.products) {\n          // If it's in a 'products' array\n          setProduct(data.products[0]); // Access the first product in the array\n        } else {\n          setProduct(data); // If the response IS the product object\n        }\n      } catch (err) {\n        setError(err); // Set the error state if something goes wrong\n        console.error(\"Error fetching product:\", err);\n      } finally {\n        setLoading(false); // Set loading to false after fetch completes (success or failure)\n      }\n    };\n    fetchProduct();\n  }, [id]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading product details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }, this); // Show a loading message\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this); // Display error message\n  }\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Product not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this); // Handle the case where the product is still null after loading\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container-fluid\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.images && product.images[0] && product.images[0].image,\n      alt: product.name,\n      height: \"500\",\n      width: \"500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"product_price\",\n      children: [\"$\", product.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductDetails, \"25eTARzqgox7FmfuNy1zkvvFz0s=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["useState","useEffect","useParams","jsxDEV","_jsxDEV","ProductDetails","_s","product","setProduct","loading","setLoading","error","setError","id","fetchProduct","res","fetch","process","env","REACT_APP_API_URL","ok","Error","status","data","json","products","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","message","className","src","images","image","alt","name","height","width","price","_c","$RefreshReg$"],"sources":["C:/React/E-Commerce/frontend/src/pages/ProductDetails.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function ProductDetails() {\r\n    const [product, setProduct] = useState(null);\r\n    const [loading, setLoading] = useState(true); // Add a loading state\r\n    const [error, setError] = useState(null); // Add an error state\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        const fetchProduct = async () => { // Use async/await for cleaner code\r\n            setLoading(true); // Set loading to true before fetching\r\n            setError(null); // Reset any previous errors\r\n            try {\r\n                const res = await fetch(process.env.REACT_APP_API_URL + '/products/' + id);\r\n                if (!res.ok) { // Check for HTTP errors (404, 500, etc.)\r\n                    throw new Error(`HTTP error! status: ${res.status}`);\r\n                }\r\n                const data = await res.json();\r\n\r\n                // Check the structure of the data:\r\n                if (data.products) { // If it's in a 'products' array\r\n                    setProduct(data.products[0]); // Access the first product in the array\r\n                } else {\r\n                    setProduct(data); // If the response IS the product object\r\n                }\r\n            } catch (err) {\r\n                setError(err); // Set the error state if something goes wrong\r\n                console.error(\"Error fetching product:\", err);\r\n            } finally {\r\n                setLoading(false); // Set loading to false after fetch completes (success or failure)\r\n            }\r\n        };\r\n\r\n        fetchProduct();\r\n    }, [id]);\r\n\r\n    if (loading) {\r\n        return <div>Loading product details...</div>; // Show a loading message\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error: {error.message}</div>; // Display error message\r\n    }\r\n\r\n    if (!product) {\r\n        return <div>Product not found.</div>; // Handle the case where the product is still null after loading\r\n    }\r\n\r\n    return (\r\n        <div className=\"container container-fluid\">\r\n            {/* ... rest of your JSX ... */}\r\n            <img src={product.images && product.images[0] && product.images[0].image} alt={product.name} height=\"500\" width=\"500\" />\r\n            <h3>{product.name}</h3> {/* Use product data here */}\r\n            <p id=\"product_price\">${product.price}</p>\r\n            {/* ... other product details ... */}\r\n\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}